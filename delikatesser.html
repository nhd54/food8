<!DOCTYPE html>
<html id="delikatesser" lang="">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title></title>
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<header>
		<nav>
			<a href="nyheder.html">
            <img class="icon" src="images/icon/icon_menu_nyheder.svg" alt="">
        </a>
			<a href="restauranter.html">
            <img class="icon" src="images/icon/icon_menu_restauranter.svg" alt="">
        </a>
			<a href="delikatesser.html">
            <img class="icon" src="images/icon/icon_menu_delikatesse.svg" alt="">
        </a>
			<a href="inspirationer.html">
    <img class="icon" src="images/icon/icon_menu_inspiration.svg" alt="">
</a>
		</nav>
	</header>
	<section>



		<template>
         <div class="newscontainer">
		<article class="newsarticle">


		</article>
               </div>
	</template>


	</section>


	<footer>

	</footer>



	<script>
		let jsonurl = "http://nicklasdegnebolig.dk/kea/2semester/cms/food8/wordpress/wp-json/wp/v2/delikatesse";
		let Delikatesser = [];
		let display = document.querySelector("section");
		let template = document.querySelector("template");
		document.addEventListener("DOMContentLoaded", hentjson);
		async function hentjson() {
			let datajson = await fetch(jsonurl);
			Delikatesser = await datajson.json();
			console.log(Delikatesser);


			VisDelikatesser();
		}


		function VisDelikatesser() {

			Delikatesser.forEach(Delikatesse => {
				console.log(Delikatesse);
				let str = Delikatesse.content.rendered;
				let rest = str.substr(0, 250)
				let klon = template.cloneNode(true).content;
				console.log(klon);
				klon.querySelector(".newscontainer").style.backgroundImage = "url(" + Delikatesse.better_featured_image.media_details.sizes.medium.source_url + ")"

				display.appendChild(klon);

			});


		}

	</script>


</body>

</html>
